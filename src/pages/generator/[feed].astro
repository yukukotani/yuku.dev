---
export async function getStaticPaths({ rss }) {
  const rawInternalArticles = await Astro.glob('../articles/**/*.md');
  const internalArticles = rawInternalArticles.map((article) => ({
    source: 'internal',
    publishDate: new Date(article.frontmatter.publishDate),
    title: article.frontmatter.title,
    url: article.url,
  }));
  const sortedArticles = internalArticles.sort((a, b) => new Date(b.publishDate) - new Date(a.publishDate));
  // Generate an RSS feed from this collection
  rss({
    // The RSS Feed title, description, and custom metadata.
    title: 'こたにゆうくのブログ',
    description: 'こたにゆうくのブログ',
    customData: `<language>ja-jp</language>`,
    // The list of items for your RSS feed, sorted.
    items: sortedArticles.map((item) => ({
      title: item.title,
      link: item.url,
      pubDate: item.publishDate,
    })),
    // Optional: Customize where the file is written to.
    // Otherwise, defaults to "/rss.xml"
    dest: '/feed.xml',
  });
  // Return your paths
  return [];
}
---

<></>
